!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){a("../shared/utility/ajax"),a("./components/icon-kits")},{"../shared/utility/ajax":3,"./components/icon-kits":2}],2:[function(a,b,c){var d=window.jQuery,e=window._l10n,f=window.ajax;d(document).ready(function(){var a=d(".tailor-icon-kits"),b=wp.media({button:{text:e.selectKit},states:[new wp.media.controller.Library({title:e.selectKit,library:wp.media.query({type:["application/zip"]}),multiple:!1,date:!1})]});b.on("select",function(c){var e=b.state().get("selection").toJSON(),g=_.pluck(e,"id");a.find(".spinner").addClass("is-active"),f.send("tailor_add_icon_kit",{data:{id:g[0],name:a.data("name"),nonce:window._nonces.saveKit},error:function(b){var c=_.template(document.getElementById("tmpl-tailor-notice").innerHTML),e=d(c({message:b.message}));a.parent().before(e),e.on("click button",function(){e.fadeOut().off()}),a.find(".spinner").removeClass("is-active")},success:function(b){a.html(d(b).html())}})}),a.on("click",".js-select",function(a){b.open()}).on("click",".js-delete",function(b){a.find(".spinner").addClass("is-active"),f.send("tailor_delete_icon_kit",{data:{id:this.getAttribute("data-id"),name:a.data("name"),nonce:window._nonces.deleteKit},success:function(b){a.html(d(b).html())}}),b.preventDefault()})})},{}],3:[function(a,b,c){var e,d=jQuery;e={url:window.ajaxurl,post:function(a,b){return ajax.send({data:_.isObject(a)?a:_.extend(b||{},{action:a})})},send:function(a,b){return _.isObject(a)?b=a:(b=b||{},b.data=_.extend(b.data||{},{action:a,tailor:1})),b=_.defaults(b||{},{type:"POST",url:ajax.url,context:this}),d.Deferred(function(a){b.success&&a.done(b.success);var c=b.error?b.error:ajax.onError;a.fail(c),delete b.success,delete b.error,d.ajax(b).done(function(b){"1"!==b&&1!==b||(b={success:!0}),_.isObject(b)&&!_.isUndefined(b.success)?a[b.success?"resolveWith":"rejectWith"](this,[b.data]):a.rejectWith(this,[b])}).fail(function(){a.rejectWith(this,arguments)})}).promise()},onError:function(a){return Tailor.Notify?void(a&&a.hasOwnProperty("message")?Tailor.Notify(a.message):"0"==a?Tailor.Notify(window._l10n.expired):"-1"==a?Tailor.Notify(window._l10n.invalid):Tailor.Notify(window._l10n.error)):void console.error(a)}},window.ajax=e,b.exports=e},{}]},{},[1]);